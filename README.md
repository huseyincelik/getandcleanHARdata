First training and test data columns are filtered by case insensitive for std and mean columns.
Then test and training datas are merged to single dataframe. Group by and mean operation is handled by dplyr summarise.